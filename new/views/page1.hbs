





<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {{!-- <link rel="stylesheet" href="/style2.css"> --}}
    {{!-- generate pdf requirement --}}
    {{!-- <link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600,800,900" rel="stylesheet" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
   --}}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
    {{!-- chart js requirement --}}
 <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"> </script>
 
<script src="/assets/plugins/apexcharts/apexcharts.min.js"></script>
    <script src="/assets/plugins/apexcharts/irregular-data-series.js"></script>
    <script src="/assets/plugins/apexcharts/ohlc.js"></script>
    {{!-- <script src="/assets/pages/apexcharts.init.js"></script> --}}
    <!-- App js -->
    {{!-- <script src="/assets/js/app.js"></script> --}}


    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {{!-- <link rel="stylesheet" href="/style.css"> --}}
    <title>Document</title>
</head>
<body>








<div class="page-wrapper">

            {{!-- <!-- Page Content-->
            <div class="page-content-tab"> --}}

                <div class="container-fluid">
                    <!-- Page-Title -->
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="page-title-box">
                                <div class="float-end">
                                    <ol class="breadcrumb">
                                        <li class="breadcrumb-item"><a href="#">Intellisec</a>
                                        </li><!--end nav-item-->
                                      
                                        <li class="breadcrumb-item active">Dashboard</li>
                                    </ol>
                                </div>
                                <h4 class="page-title">Dashboards</h4>
                            </div><!--end page-title-box-->
                        </div><!--end col-->
                    </div>
                    <!-- end page title end breadcrumb -->
                    <div class="row justify-content-center">
                        <div class="col-md-6 col-lg-4">
                            <div class="card report-card">
                                <div class="card-body">
                                    <div class="row d-flex justify-content-center">
                                        <div class="col">
                                            <p class="text-dark mb-1 fw-semibold">assessments</p>
                                            {{#each ass_total}}
                                           
                                           
                                            <h4 class="my-1"> {{this.count}}</h4>
                                             {{/each}}
                                                                                         {{#each ass_finished}}

                                            <p class="mb-0 text-truncate text-muted"><span class="text-success"><i class="mdi mdi-checkbox-marked-circle-outline me-1"></i></span>{{this.count}} assessments Completed</p>
                                       {{/each}}
                                        </div>
                                        <div class="col-auto align-self-center">
                                            <div class="bg-light-alt d-flex justify-content-center align-items-center thumb-md  rounded-circle">
                                                <i data-feather="layers" class="align-self-center text-muted icon-sm"></i>  
                                            </div>
                                        </div>
                                    </div>
                                </div><!--end card-body--> 
                            </div><!--end card--> 
                        </div> <!--end col--> 
                        <div class="col-md-6 col-lg-4">
                            <div class="card report-card">
                                <div class="card-body">
                                    <div class="row d-flex justify-content-center">                                                
                                        <div class="col">
                                            <p class="text-dark mb-1 fw-semibold">Tasks</p>
                                                                                        {{#each total_tasks}}

                                            <h4 class="my-1">{{this.count}}</h4>
                                                                                   {{/each}}
                                                                                        {{#each total_answered}}

                                            <p class="mb-0 text-truncate text-muted"><span class="text-success"><i class="mdi mdi-checkbox-marked-circle-outline me-1"></i></span>{{this.count}} tasks Completed</p>
                                                                                                                     {{/each}}

                                        </div>
                                        <div class="col-auto align-self-center">
                                            <div class="bg-light-alt d-flex justify-content-center align-items-center thumb-md  rounded-circle">
                                                <i data-feather="check-square" class="align-self-center text-muted icon-sm"></i>  
                                            </div>
                                        </div> 
                                    </div>
                                </div><!--end card-body--> 
                            </div><!--end card--> 
                        </div> <!--end col-->                         
                        <div class="col-md-6 col-lg-4">
                            <div class="card report-card">
                                <div class="card-body">
                                    <div class="row d-flex justify-content-center">
                                        <div class="col">  
                                            <p class="text-dark mb-1 fw-semibold">all categories</p>  
                                            {{#each categories}}
                                            <h4 class="my-1">{{this.count}}</h4>   
                                            {{/each}}
                                            <p class="mb-0 text-truncate text-muted"><span class="text-muted">.</span> 
                                        </div>
                                        <div class="col-auto align-self-center">
                                            <div class="bg-light-alt d-flex justify-content-center align-items-center thumb-md  rounded-circle">
                                                <i data-feather="check-square" class="align-self-center text-muted icon-sm"></i>  
                                            </div>
                                        </div> 
                                    </div>
                                </div><!--end card-body--> 
                            </div><!--end card--> 
                        </div> <!--end col--> 
                        <div class="col-md-6 col-lg-3">
                            {{!-- <div class="card report-card">
                                <div class="card-body">
                                    <div class="row d-flex justify-content-center">                                                
                                        <div class="col">
                                            <p class="text-dark mb-1 fw-semibold">Budget</p>
                                            <h4 class="my-1">$24100</h4>   
                                            <p class="mb-0 text-truncate text-muted"><span class="text-dark">$14k</span> Total used budgets</p>
                                        </div>
                                        <div class="col-auto align-self-center">
                                            <div class="bg-light-alt d-flex justify-content-center align-items-center thumb-md  rounded-circle">
                                                <i data-feather="dollar-sign" class="align-self-center text-muted icon-sm"></i>  
                                            </div>
                                        </div> 
                                    </div>
                                </div><!--end card-body--> 
                            </div><!--end card-->  --}}
                        </div> <!--end col-->                               
                    </div><!--end row-->

                    <div class="row">
                        
                        <div class="col-lg-8">
                            <div class="card">
                                <div class="card-header">
                                    <div class="row align-items-center">
                                        <div class="col">                      
                                            <h4 class="card-title">Tasks added by date </h4>                      
                                        </div><!--end col-->
                                       
                                    </div>  <!--end row-->                                  
                                </div><!--end card-header-->
                                <div class="card-body">
                                    <div class="text-center">
                                        <div id="overview" class="apex-charts"></div>
                                        <h6 class="text-primary bg-soft-primary p-3 mb-0">
                                            <i data-feather="calendar" class="align-self-center icon-xs me-1"></i>
                                           {{this.starts.date}} to {{this.ends.date}}
                                        </h6>
                                    </div>                                     
                                </div><!--end card-body--> 
                            </div><!--end card--> 
                        </div> <!--end col--> 
                       <div class="col-lg-4">
                            <div class="card">
                                <div class="card-header">
                                    <div class="row align-items-center">
                                        <div class="col">                      
                                            <h4 class="card-title">Tasks Performance</h4>                      
                                        </div><!--end col-->
                                    </div>  <!--end row-->                                  
                                </div><!--end card-header-->
                                <div class="card-body">
                                    <div class="text-center">
                                        <div id="task_status" class="apex-charts"></div>
                                        <h6 class="text-primary bg-soft-primary p-3 mb-0">
                                            <i data-feather="calendar" class="align-self-center icon-xs me-1"></i>
                                           {{this.starts.date}} to {{this.ends.date}}
                                        </h6>
                                    </div>                                     
                                </div><!--end card-body--> 
                            </div><!--end card-->                             
                        </div> <!--end col--> 
                    </div><!--end row-->
                  
                  
                </div><!-- container -->
</div>




    <script>
 

         {{#each  total_tasks }}
  
  var total =  {{this.count}} ;
  {{/each}}

  {{#each  total_answered }}
  var answered =  {{this.count}} ;
  {{/each}}

var missing = total - answered;

 aa =parseInt ((answered *100) /total);
         mm =parseInt( (missing *100) /total);
var options = {
  chart: {
    type: 'radialBar',
    height: 295,
    dropShadow: {
      enabled: true,
      top: 5,
      left: 0,
      bottom: 0,
      right: 0,
      blur: 5,
      color: '#45404a2e',
      opacity: 0.35
    },
  },
  plotOptions: {
    radialBar: {
      offsetY: -10,
      startAngle: 0,
      endAngle: 270,
      hollow: {
        margin: 5,
        size: '50%',
        background: 'transparent',  
      },
      track: {
        show: false,
      },
      dataLabels: {
        name: {
            fontSize: '18px',
        },
        value: {
            fontSize: '16px',
            color: '#50649c',
        },
        
      }
    },
  },
  colors: ["#2a76f4","rgba(42, 118, 244, .5)","rgba(42, 118, 244, .18)"],
  stroke: {
    lineCap: 'round'
  }, 

 
  series: [aa, mm, 100],
  labels: ['Completed', 'Active', 'Assigned'],
  legend: {
    show: true,
    floating: true,
    position: 'left',
    offsetX: -10,
    offsetY: 0,
  },
  responsive: [{
      breakpoint: 480,
      options: {
          legend: {
              show: true,
              floating: true,
              position: 'left',
              offsetX: 10,
              offsetY: 0,
          }
      }
  }]
}


var chart = new ApexCharts(
  document.querySelector("#task_status"),
  options
);

chart.render();

    </script>


    <script>



var options = {
  chart: {
      height: 225,
      type: 'area',
      stacked: true,
      toolbar: {
        show: false,
        autoSelected: 'zoom'
      },
  },
  colors: ['#2a77f4'],
  dataLabels: {
      enabled: false
  },
  stroke: {
      curve: 'smooth',
      width: [2, 2],
      dashArray: [0, 4],
      lineCap: 'round'
  },
  grid: {
    borderColor: "#45404a2e",
    padding: {
      left: 0,
      right: 0
    },
    strokeDashArray: 3,
  },
  markers: {
    size: 0,
    hover: {
      size: 0
    }
  },
  
  series: [{
      name: 'Unique Visits',
      data: [ {{#each ass_date}}  {{this.count}} ,{{/each}}
]
  }],

  xaxis: {
      type: 'month',
      categories: [ {{#each ass_date}}  '{{this.date}}' ,{{/each}}
],
      axisBorder: {
        show: true,
        color: '#45404a2e',
      },  
      axisTicks: {
        show: true,
        color: '#45404a2e',
      },                  
  },
  fill: {
    type: "gradient",
    gradient: {
      shadeIntensity: 1,
      opacityFrom: 0.4,
      opacityTo: 0.3,
      stops: [0, 90, 100]
    }
  },
  
  tooltip: {
      x: {
          format: 'dd/MM/yy HH:mm'
      },
  },
  legend: {
    position: 'top',
    horizontalAlign: 'right'
  },
}

var chart = new ApexCharts(
  document.querySelector("#overview"),
  options
);

chart.render();

    </script>
        <!-- end page-wrapper -->

         <!-- Javascript  -->   
        <script src="assets/plugins/lightpicker/litepicker.js"></script>
        <script src="assets/plugins/apexcharts/apexcharts.min.js"></script>
        {{!-- <script src="assets/pages/projects-index.init.js"></script> --}}
        <!-- App js -->












{{!-- --------------------------------- --}}


    {{#if user.admin }}

<form action="./page2">
{{!-- <button type="button" class="btn btn-primary" style="user-select: auto;">Primary</button> --}}
    <input type="submit" value="+ new assmement" class="btn btn-primary" style="user-select: auto; left-margin: 50px;"  />
          <a href="/question/user_personal_tasks/{{user.username}}" class="btn  btn-danger" style="user-select: auto; left-margin: 50px;">view tasks</a>

    {{!-- <input type="submit" value="+ new assmement" class="bt"  /> --}}
</form>

<br>
{{!-- <p>{{ user.admin }}</p>
  <p>{{ user.username }}</p>
   <p>{{ user.id }}</p> --}}



<br>

      
            {{#each test}}
       
         {{this.count}} <br>
          dd
            </tr>
            {{/each}}

             {{else }} 
             
             {{!-- {{ user.username }} --}}
       
             {{!-- <button onclick="category()">start ></button> --}}
                            {{!-- location.replace("{{ user.username }}") --}}

             <script>
function category() {
   
                            location.replace("{{ user.username }}")

}
</script>
   

          <a href="/question/user_personal_tasks/{{user.username}}"  class="btn  btn-danger" style="user-select: auto; left-margin: 50px;">view tasks</a>

 
 {{/if}}

                





















        
</body>
</html>